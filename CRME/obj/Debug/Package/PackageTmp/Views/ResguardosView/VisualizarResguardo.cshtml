@*@model CRME.Models.Resguardos_Lista_laptos*@

@using CustomHelpers
@{
    ViewBag.Title = "Visualizar resguardo";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Tab Structure -->
<div class="row form-general margin-top-30 padding-20">
    <div class="col s12">        
            <div class="row">
                @using (Html.BeginForm("#", "#", FormMethod.Post, new { @class = "", id = "FrmDatosResguardo" }))
                {
                    <div class="col s12 margin-top-25">
                        <div id="New_UpdatePersona">
                            @Html.Action("_FormularioResguardo", "ResguardosView")
                        </div>
                    </div>
                }
            </div>           
       @*  *@ </div>      
    </div>
<div id="ModalAlert" class="modal modal-fixed-footer" style="width:300px; height:240px;">
    <div class="md-header center"><img src="~/Upload/Sistema/SIRE_FINAL.png" style="width:40px" /></div>
    <div class="modal-content md-content">
        <h5 class="md-title">Título</h5>
        <span><i class="md-icono mdi mdi-36px"></i><span><span class="md-message">Mensaje</span></span></span>
    </div>
    <div class="modal-footer">
        <a href="javascript:void(0)" class="modal-action modal-close waves-effect waves-red btn-flat md-btn-danger hide md-cancel cancelar-eventos">Cancelar</a>
        <a href="javascript:void(0)" class="modal-action waves-effect waves-green btn-flat md-btn-success md-accept">Aceptar</a>
    </div>
</div>

@section Scripts{
    <script>
        $(document).ready(function () {



        });


        $("#Nombres").autocomplete({
            source: function (request, response) {
                    $.ajax({
                        url: "@Url.Action("BuscarRecibe", "ResguardosView")",
                       // type: "post",
                        dataType: "json",
                        data: { cad: request.term },
                        success: function (data) {
                           // console.log(data);
                            response(data);
                        },
                    })
            },
            select: function (event, elemento) {
                document.getElementById("id_recibe").value = elemento.item.idRecibe;
            }
        });


        $("#entrega").autocomplete({
            source: function (request, response) {
                $.ajax({
                    url: "@Url.Action("BuscarEntrega", "ResguardosView")",
                    dataType: "json",
                    data: { cad: request.term },
                    success: function (data) {
                        //console.log(data);
                        response(data);
                    },
                })
            },
            select: function (event, elemento) {
                document.getElementById("Id_entrega").value = elemento.item.identrega;
                }
            });

        $("#Serie").autocomplete({
                source: function (request, response) {
                    $.ajax({
                        url: "@Url.Action("BuscarSerie", "ResguardosView")",
                        dataType: "json",
                        data: { cad: request.term },
                        success: function (data) {
                           // console.log(data);
                            response(data);
                        },
                    })
            },
            select: function (event, elemento) {
                document.getElementById("Marca").value = elemento.item.Marca;
                document.getElementById("Modelo").value = elemento.item.Modelo;
                document.getElementById("descripcion").value = elemento.item.descripcion;
                document.getElementById("Color").value = elemento.item.Color;
                document.getElementById("Cod_inventario").value = elemento.item.Cod_inventario;
                document.getElementById("fecha_folio").value = elemento.item.fecha_folio;
                document.getElementById("Proveedor").value = elemento.item.Proveedor;
                }
            });


        GenerarPdf();
            function GenerarPdf() {
                $("#FrmDatosResguardo").off('click', '.generarPdf');
                $("#FrmDatosResguardo").on("click", ".generarPdf", function (e) {
                    var id = $("#Resguardo_ID").val();
                    var url = "@Url.Action("Print", "ResguardosView")?id=" + id;
                    window.open(url);
                });
        }

        DevolverResguardo();
            function DevolverResguardo() {
                    $("#FrmDatosResguardo").off('click', '.devolverResguardo');
                $("#FrmDatosResguardo").on("click", ".devolverResguardo", function (e) {
                    e.preventDefault();
                    if ($("#FrmDatosResguardo").valid()) {
                        var frmValues = $("#FrmDatosResguardo").serialize();
                        $.ajax({
                            type: "POST",
                            url: '@Url.Action("Devolver", "ResguardosView")',
                            cache: false,
                            data: frmValues,
                            success: function (result) {
                                if (result.success) {
                                    //$('#mensaje-error-model').text("");
                                    //$('#modal1').modal('close');

                                    ConfigModal($('#ModalAlert'), "", " se regreso con éxito.", 1)//para crear la ventana flotante
                                    $("#ModalAlert").modal({
                                        dismissible: false,
                                    });
                                    $("#ModalAlert").modal('open');
                                    Response.redirect('@Url.Action("Index", "ResguardosView")');
                                } else if (result.mensajefound != "") {
                                    ConfigModal($('#ModalAlert'), "", result.mensajefound, 3)//para crear la ventana flotante
                                    $("#ModalAlert").modal({
                                        dismissible: false,
                                    });
                                    $("#ModalAlert").modal('open');
                                }
                            }
                        });
                    }
                });
        }



        guardar();
        function guardar() {
            $("#FrmDatosResguardo").off('click', '.guardarResguardo');
            $("#FrmDatosResguardo").on('click', '.guardarResguardo', function (e) {
                e.preventDefault();
                if ($("#FrmDatosResguardo").valid()) {
                    var frmValues = $("#FrmDatosResguardo").serialize();
                    var id_recibe = $(this).attr("id_recibe");
                    var Id_entrega = $(this).attr("Id_entrega");
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("SaveResguardo", "ResguardosView")',
                        cache: false,
                        data: frmValues + "&id_recibe=" + id_recibe + "&Id_entrega=" + Id_entrega,
                        success: function (result) {
                            if (result.success) {
                                //$('#mensaje-error-model').text("");
                                //$('#modal1').modal('close');

                                ConfigModal($('#ModalAlert'), "", "Operación realizada con éxito.", 1)//para crear la ventana flotante
                                $("#ModalAlert").modal({
                                    dismissible: false,
                                });

                                $("#ModalAlert").modal('open');



                            } else if (result.mensajefound != "") {
                                ConfigModal($('#ModalAlert'), "", result.mensajefound, 3)//para crear la ventana flotante
                                $("#ModalAlert").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert").modal('open');
                            }

                            window.open('@Url.Action("Index", "ResguardosView")');
                        }



                    });
                }
            });
        }


            @*eventomovil();
            cargarReglasFormulario();
            DeshabilitarControlesInicio();

            $('#ModalAlert').modal();
            $('#ModalAlert1').modal();
            $('#ModalAlert2').modal();
            $('#ModalAlert3').modal();
            $('#ModalAlert4').modal();
            $('#ModalAlert5').modal();
            $('#ModalAlert6').modal();
            $(".cancelar-eventos").off('click');
            $(".cancelar-eventos").on('click', function (e) {
                $('#ModalAlert').off("click", ".md-accept");
                $('#ModalAlert1').off("click", ".md-accept");
                $('#ModalAlert2').off("click", ".md-accept");
                $('#ModalAlert3').off("click", ".md-accept");
                $('#ModalAlert4').off("click", ".md-accept");
                $('#ModalAlert5').off("click", ".md-accept");
            });

            jQuery.extend(jQuery.validator.messages, {
                minlength: jQuery.validator.format("El campo debe llevar mínimo {0} caracteres."),
                maxlength: jQuery.validator.format("Porfavor ingrese caracteres no mayores a {0}."),
                min: jQuery.validator.format("Por favor ingrese un número mayor que 0 o igual a {0} .")
            });

            var contTel = $('#btnAgregarTelefono').val();
            var contEmail = $('#btnAgregarEmail').val();

            //BOTONES
            $('#btnAgregarTelefono').click(function () {
                contTel++;
                $('#btnAgregarTelefono').val(contTel);
                $('#btnQuitarTelefono').val(contTel);
                var html = "";
                html += '<div class="col l12 m12 s12 fila" style="" id="NuevoRegistroTel_' + contTel + '">'
                html += '<div class="col l4 m12 s12 lbl-form-candidato-edit hide-on-med-and-up show-on-medium-and-down margin-top-10"> Tipo:</div>'
                html += '<div class="col l4 m12 s12">'
                html += '<div class="input-field">'
                html += '<select class="select classic tipo" id="MediosContactos_' + contTel + '__tpFormato" name="MediosContactos[' + contTel + '].tpFormato"><option value="">--TIPO--</option><option value="Móvil">M&#243;vil</option><option value="Personal">Personal</option><option value="Oficina">Oficina</option><option value="Otro">Otro</option></select>'
                html += '<span class="field-validation-valid text-danger" data-valmsg-for="MediosContactos[' + contTel + '].tpFormato" data-valmsg-replace="true"></span>'
                html += '</div>'
                html += '</div>'
                html += '<div class="col l4 m12 s12 lbl-form-candidato-edit hide-on-med-and-up show-on-medium-and-down" style="margin-top:21px"> Número:</div>'
                html += '<div class="col l5 m12 s12">'
                html += '<div class="input-field">'
                html += '<input class = "entero" id= "MediosContactos_' + contTel + '__desMedioContacto" name= "MediosContactos[' + contTel + '].desMedioContacto" maxlength="13" pattern = "[0-9]" minlength="7" placeholder = "INGRESE NÚMERO">'
                html += '<span class="field-validation-valid text-danger" data-valmsg-for="MediosContactos[' + contTel + '].desMedioContacto" data-valmsg-replace="true"></span>'
                html += '</div>'
                html += '</div>'
                html += '<div class="col l4 m12 s12 lbl-form-candidato-edit hide-on-med-and-up show-on-medium-and-down"> Extensión:</div>'
                html += '<div class="col l3 m12 s12">'
                html += '<div class="input-field">'
                html += '<input class = "entero ext" id= "MediosContactos_' + contTel + '__numExtension" name="MediosContactos[' + contTel + '].numExtension" maxlength = "6" pattern = "[0-9]" placeholder = "INGRESE EXTENSIÓN">'
                html += '</div>'
                html += '</div>'
                html += '</div>'

                $('#clontel').append(html);
                $(".entero").mask('#00', { reverse: true });
                $('#btnQuitarTelefono').attr('disabled', false);
                if (contTel == 2) {
                    $('#btnAgregarTelefono').attr('disabled', true);
                }

            });

            $('#btnQuitarTelefono').click(function () {
                $('#MediosContactos_' + contTel + '__desMedioContacto').rules("remove");
                $('#MediosContactos_' + contTel + '__tpFormato').rules("remove");
                $('#NuevoRegistroTel_' + contTel).html("");
                $('#NuevoRegistroTel_' + contTel).remove();
                contTel--;
                $('#btnAgregarTelefono').val(contTel);
                $('#btnQuitarTelefono').val(contTel);
                $('#btnAgregarTelefono').attr('disabled', false);

                if (contTel == 0) {
                    $('#btnQuitarTelefono').attr('disabled', true);
                }
            });
            if (contTel <= 0) {
                $('#btnQuitarTelefono').attr('disabled', true);
            } else {
                $('#btnQuitarTelefono').attr('disabled', false);
            }

            if (contTel == 2) {
                $('#btnAgregarTelefono').attr('disabled', true);
            } else {
                $('#btnAgregarTelefono').attr('disabled', false);
            }


            ////////////////////////////////////////////////////

            $('#btnAgregarEmail').click(function () {
                contEmail++;
                $('#btnAgregarEmail').val(contEmail);
                $('#btnQuitarEmail').val(contEmail);
                var html1 = '';
                html1 += '<div class="col l12" style="" id="NuevoRegistroEmail_' + contEmail + '">'
                html1 += '<div class="col l4 m12 s12 lbl-form-candidato-edit hide-on-med-and-up show-on-medium-and-down"> Tipo:</div>'
                html1 += ' <div class="col s12 m12 l4 margin-0">'
                html1 += '<div class="input-field">'
                html1 += '<select class="select classic" id="MediosContactos1_' + contEmail + '__tpFormato" name="MediosContactos1[' + contEmail + '].tpFormato"><option value="">--TIPO--</option><option value="Personal">Personal</option><option value="Oficina">Oficina</option><option value="Otro">Otro</option></select>'
                html1 += '<span class="field-validation-valid text-danger" data-valmsg-for="MediosContactos1[' + contEmail + '].tpFormato" data-valmsg-replace="true"></span>'
                html1 += '</div>'
                html1 += '</div>'
                html1 += '<div class="col l4 m12 s12 lbl-form-candidato-edit hide-on-med-and-up show-on-medium-and-down" style="margin-top:21px"> Descripción:</div>'
                html1 += '<div class="col s12 m12 l8 margin-0">'
                html1 += '<div class="input-field">'
                html1 += '<input class = "Validate form-simple ext" id= "MediosContactos1_' + contEmail + '__desMedioContacto" name="MediosContactos1[' + contEmail + '].desMedioContacto" type="email" placeholder = "INGRESE DIRECCIÓN DE EMAIL" >'
                html1 += '<span class="field-validation-valid text-danger" data-valmsg-for="MediosContactos1[' + contEmail + '].desMedioContacto" data-valmsg-replace="true"></span>'
                html1 += '</div>'
                html1 += '</div>'
                html1 += '</div>'


                $('#clonEmail').append(html1);

                $('#btnQuitarEmail').attr('disabled', false);

                if (contEmail == 2)
                    $('#btnAgregarEmail').attr('disabled', true);
            });

            $('#btnQuitarEmail').click(function () {
                $('#MediosContactos1_' + contEmail + '__desMedioContacto').rules("remove");
                $('#MediosContactos1_' + contEmail + '__tpFormato').rules("remove");
                $('#NuevoRegistroEmail_' + contEmail).html("");
                $('#NuevoRegistroEmail_' + contEmail).remove();
                contEmail--;
                $('#btnAgregarEmail').val(contEmail);
                $('#btnQuitarEmail').val(contEmail);
                $('#btnAgregarEmail').attr('disabled', false);

                if (contEmail == 0)
                    $('#btnQuitarEmail').attr('disabled', true);
            });

            if (contEmail <= 0) {
                $('#btnQuitarEmail').attr('disabled', true);
            } else {
                $('#btnQuitarEmail').attr('disabled', false);
            }
            if (contEmail == 2) {
                $('#btnAgregarEmail').attr('disabled', true);
            } else {
                $('#btnAgregarEmail').attr('disabled', false);
            }


            function eventomovil() {
                if ($('.tipo').val() == "Móvil") {
                    $(".ext").attr("placeholder", "N/A");
                    $(".ext").attr("disabled", "disabled");
                    $(".ext").val('');
                }
            }

            $(".clonedInput").off('change', '.tipo')
            $(".clonedInput").on('change', '.tipo', function () {

                var item = $(this).closest(".fila");
                var exte = $(item).find(".ext");
                if ($(this).val() == "Móvil") {

                    $(exte).attr("placeholder", "N/A");
                    $(exte).attr("disabled", "disabled");
                    $(exte).val('');
                }
                else {

                    $(exte).attr("placeholder", "INGRESE EXTENSIÓN");
                    $(exte).attr("disabled", false);
                    $(exte).val('');
                }
            });
            /////////////////////////////////
            CargarReglasGeneral();
            cargarReglasFormulario();


            /////////////////////////////////////////
            //GUARDAR DATOS DE CONTACTO
            $("#FrmDatosContacto").off('click', '.GuardarDatosContacto');
            $("#FrmDatosContacto").on("click", ".GuardarDatosContacto", function (e) {
                e.preventDefault();
               // alert("");
                cargarReglasFormulario();
                CargarReglasGeneral();
                var otraColonia = "";
                otraColonia = $("#Alumnos_Direcciones_nbColonia").val() + "|" + $("#Colonia").val();
                if ($("#FrmDatosContacto").valid()) {

                    if ($("#Colonia").val() != "") {
                        var nbColonia = otraColonia;
                    }
                    else
                    {
                        var nbColonia = $("#Alumnos_Direcciones_nbColonia").val();
                    }
                    var frmValues = $("#FrmDatosContacto").serialize();

                    $.ajax({
                        url: '@Url.Action("SaveDatosContacto", "AlumnoView")',
                        data: frmValues + "&nbColonia=" + nbColonia,
                        type: "POST",
                        success: function (result) {//obtiene el resultado json

                            if (result.success) {//si es true el resultado

                                ConfigModal($('#ModalAlert'), "", "Operación realizada con éxito", 1)//para crear la ventana flotante
                                $("#ModalAlert").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert").modal('open');
                            }
                            else {
                                ConfigModal($('#ModalAlert'), "ALERTA", "Ocurrio un error al guardar los datos", 3)
                                $("#ModalAlert").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert").modal('open');
                            }
                        }
                    });
                }
            });

            $("#check_donador").on("change", function () {
                var option = $(this);
                var id = $(this).attr("id-item");
                var check = $(this).is(':checked');
                if (check) {
                    $("#fgDonarSangre").val("true");

                } else {
                    $("#fgDonarSangre").val("null");
                }
            });

            $("#check_fallecido").on("change", function () {
                var option = $(this);
                var id = $(this).attr("id-item");
                var check = $(this).is(':checked');
                if (check) {
                    $("#fgFallecido").val("true");

                } else {
                    $("#fgFallecido").val("null");
                }
            });

            $("#check_trabaja").on("change", function () {
                var option = $(this);
                var id = $(this).attr("id-item");
                var check = $(this).is(':checked');
                if (check) {
                    $("#fgTrabajaActualmente").val("true");

                } else {
                    $("#fgTrabajaActualmente").val("null");
                }
            });

            $("#check_licencia").on("change", function () {
                var option = $(this);
                var id = $(this).attr("id-item");
                var check = $(this).is(':checked');
                if (check) {
                    $("#fgLicencia").val("true");

                } else {
                    $("#fgLicencia").val("null");
                }
            });
            ///////////// GUARDAR ALUMNO ////////////////////////
            $("#frmDatosA").off('click', '.GuardarAlumnoS');
            $("#frmDatosA").on("click", ".GuardarAlumnoS", function (e) {
                e.preventDefault();
                var fgDonarSangre = document.getElementById("check_donador").checked;
                //var

                cargarReglasFormulario();
                CargarReglasGeneral();
                if ($("#frmDatosA").valid()) {
                    var frmValues = $("#frmDatosA").serialize();
                    $.ajax({
                        url: '@Url.Action("SaveAlumno", "AlumnoView")',
                        data: frmValues,
                        type: "POST",
                        success: function (result) {//obtiene el resultado json

                            if (result.success) {//si es true el resultado

                                ConfigModal($('#ModalAlert'), "", "Operación realizada con éxito", 1)//para crear la ventana flotante
                                $("#ModalAlert").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert").modal('open');
                            }
                            else {
                                ConfigModal($('#ModalAlert'), "ALERTA", "Ocurrio un error al guardar los datos", 3)
                                $("#ModalAlert").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert").modal('open');
                            }
                        }
                    });
                }
            });

            //=================================== FORMACIONES ACADEMICAS===================================
            //MODAL Formacion Academica

            $("#tablaFormacionA").off('click', '#agregarForA');
            $("#tablaFormacionA").on('click', '#agregarForA', function (e) {
                e.preventDefault();
                $('#AgregarFormacionA').load('@Url.Action("_FormularioFormacionAcademica", "AlumnoView")', function (response, status, xhr) {
                    if (status == "success") {
                        cargarReglasFormulario();
                        CargarReglasGeneral();
                        ConfiguracionFecha();


                    }
                });
                $("#modal1").modal({
                    dismissible: false,
                });
                $("#modal1").modal('open');
            });

            //GUARDAR Formacion Academica

            $("#FrmFormacionAcademica").off('click', '.saveFormacionA');
            $("#FrmFormacionAcademica").on('click', '.saveFormacionA', function (e) {
                e.preventDefault();
                if ($("#FrmFormacionAcademica").valid()) {
                    EliminarComaMontosFormulario($("#FrmFormacionAcademica"));
                    var frmValues = $("#FrmFormacionAcademica").serialize();
                    var idAlumno = $(this).attr("id-alumno");
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("SaveFormacionAcademica", "AlumnoView")',
                        cache: false,
                        data: frmValues + "&idAlumno=" + idAlumno,
                        success: function (result) {
                            if (result.success) {
                                $('#mensaje-error-model1').text("");
                                $('#modal1').modal('close');
                                ConfigModal($('#ModalAlert1'), "", "Operación realizada con éxito", 1)//para crear la ventana flotante
                                $("#ModalAlert1").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert1").modal('open');
                                ConfiguracionFecha();
                                $('#tablaFormacionA').load('@Url.Action("_TablaFormacionAcademica", "AlumnoView")', { idAlumno });
                            } else {
                                $('#mensaje-error-model1').text(result.mensajefound);
                            }
                        }

                    });
                }


            });

            // EDITAR Formacion Academica
            $("#tablaFormacionA").off('click', '.editarForA');
            $("#tablaFormacionA").on('click', '.editarForA', function (e) {
                e.preventDefault();
                var idFormacionAcademica = $(this).attr("id-item");
                $('#AgregarFormacionA').load('@Url.Action("_FormularioFormacionAcademica", "AlumnoView")', { idFormacionAcademica }, function (response, status, xhr) {
                    if (status == "success") {
                        cargarReglasFormulario();
                        ConfiguracionFecha();
                        CargarReglasGeneral();

                    }
                });
                $('#modal1').modal('open');
            });

            //ELIMINAR Formacion Academica
            $("#tablaFormacionA").off('click', '.eliminarForA');
            $("#tablaFormacionA").on('click', '.eliminarForA', function (e) {
                e.preventDefault();
                ConfigModal($('#ModalAlert1'), "", "¿Desea eliminar el registro?", 4)//para crear la ventana flotante
                $("#ModalAlert1").modal({
                    dismissible: false,
                });
                $("#ModalAlert1").modal('open');
                var idFormacionAcademica = $(this).attr("id-item");
                var idAlumno = $(this).attr("id-Alumno");

                $("#ModalAlert1").off("click", ".md-accept");
                $("#ModalAlert1").on("click", ".md-accept", function () {

                    $.ajax({
                        url: '@Url.Action("DeleteFormacionAcademica", "AlumnoView")',
                        data: { idFormacionAcademica, idAlumno },
                        type: "POST",
                        success: function (result) {
                            if (result.success) {
                                ConfiguracionFecha();
                                $('#tablaFormacionA').load('@Url.Action("_TablaFormacionAcademica", "AlumnoView")', { idAlumno });
                                $("#ModalAlert1").modal('close');
                                ConfigModal($('#ModalAlert'), "", "Operación realizada con éxito", 1)//para crear la ventana flotante
                                $("#ModalAlert").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert").modal('open');
                            } else {
                                ConfigModal($('#ModalAlert1'), "ALERTA", result.mensajefound, 3)
                                $("#ModalAlert1").modal('open');
                                $('#ModalAlert1').off("click", ".md-accept");
                                $('#ModalAlert1').on("click", ".md-accept", function () {
                                    $("#ModalAlert1").modal('close');
                                })
                            }

                        }
                    });
                })

            });


            //=================================== FORMACIONES COMPLEMENTARIAS ===================================

            //MODAL Formacion complementaria

            $("#tablaFormacionC").off('click', '#agregarForC');
            $("#tablaFormacionC").on('click', '#agregarForC', function (e) {
                e.preventDefault();
                $('#AgregarFormacionC').load('@Url.Action("_FormularioFormacionComplementaria", "AlumnoView")', function (response, status, xhr) {
                    if (status == "success") {
                        cargarReglasFormulario();
                        CargarReglasGeneral();
                        ConfiguracionFecha();


                    }
                });
                $("#modal2").modal({
                    dismissible: false,
                });
                $("#modal2").modal('open');
            });


            //GUARDAR Formacion complementaria
            $("#frmFormacionC").off('click', '.saveFormacionC');
            $("#frmFormacionC").on('click', '.saveFormacionC', function (e) {
                e.preventDefault();
                if ($("#frmFormacionC").valid()) {
                    //EliminarComaMontosFormulario($("#frmFormacionC"));
                    var frmValues = $("#frmFormacionC").serialize();
                    var idAlumno = $(this).attr("id-alumno");
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("SaveFormacionComplementaria", "AlumnoView")',
                        cache: false,
                        data: frmValues + "&idAlumno=" + idAlumno,
                        success: function (result) {
                            if (result.success) {
                                $('#mensaje-error-model2').text("");
                                $('#modal2').modal('close');
                                ConfigModal($('#ModalAlert2'), "", "Operación realizada con éxito", 1)//para crear la ventana flotante
                                $("#ModalAlert2").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert2").modal('open');
                                ConfiguracionFecha();
                                $('#tablaFormacionC').load('@Url.Action("_TablaFormacionComplementaria", "AlumnoView")', { idAlumno });
                            } else {
                                $('#mensaje-error-model2').text(result.mensajefound);
                            }
                        }

                    });
                }


            });



            // EDITAR Formacion complementaria
            $("#tablaFormacionC").off('click', '.editarForC');
            $("#tablaFormacionC").on('click', '.editarForC', function (e) {
                e.preventDefault();
                var idFormacionComplementaria = $(this).attr("id-item");
                $('#AgregarFormacionC').load('@Url.Action("_FormularioFormacionComplementaria", "AlumnoView")', { idFormacionComplementaria }, function (response, status, xhr) {
                    if (status == "success") {
                        cargarReglasFormulario();
                        CargarReglasGeneral();
                        ConfiguracionFecha();

                    }
                });
                $('#modal2').modal('open');
            });

            //ELIMINAR Formacion complementaria
            $("#tablaFormacionC").off('click', '.eliminarForC');
            $("#tablaFormacionC").on('click', '.eliminarForC', function (e) {
                e.preventDefault();
                ConfigModal($('#ModalAlert1'), "", "¿Desea eliminar el registro?", 4)//para crear la ventana flotante
                $("#ModalAlert1").modal({
                    dismissible: false,
                });
                $("#ModalAlert1").modal('open');
                var idFormacionComplementaria = $(this).attr("id-item");
                var idAlumno = $(this).attr("id-Alumno");

                $("#ModalAlert1").off("click", ".md-accept");
                $("#ModalAlert1").on("click", ".md-accept", function () {

                    $.ajax({
                        url: '@Url.Action("DeleteFormacionComplementaria", "AlumnoView")',
                        data: { idFormacionComplementaria, idAlumno },
                        type: "POST",
                        success: function (result) {
                            if (result.success) {
                                ConfiguracionFecha();
                                $('#tablaFormacionC').load('@Url.Action("_TablaFormacionComplementaria", "AlumnoView")', { idAlumno });
                                $("#ModalAlert1").modal('close');

                                ConfigModal($('#ModalAlert'), "", "Formación complementaria eliminada con éxito", 1)//para crear la ventana flotante


                                ConfigModal($('#ModalAlert'), "", "Operación realizada con éxito", 1)//para crear la ventana flotante

                                $("#ModalAlert").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert").modal('open');
                            } else {
                                ConfigModal($('#ModalAlert1'), "ALERTA", result.mensajefound, 3)
                                $("#ModalAlert3").modal('open');
                                $('#ModalAlert3').off("click", ".md-accept");
                                $('#ModalAlert3').on("click", ".md-accept", function () {
                                    $("#ModalAlert1").modal('close');
                                })
                            }

                        }
                    });
                })

            });
            //=================================== IDIOMAS ===================================

            //MODAL IDIOMAS
            $("#tablaIdiomas").off('click', '#agregarIdioma');
            $("#tablaIdiomas").on('click', '#agregarIdioma', function (e) {
                e.preventDefault();
                $('#AgregarIdioma').load('@Url.Action("_FormularioIdioma", "AlumnoView")', function (response, status, xhr) {
                    if (status == "success") {
                        cargarReglasFormulario();
                    }
                });
                $('#modal4').modal('open');

            })

            //GUARDAR IDIOMA
            $("#FrmIdiomas").off('click', '.guardarIdioma');
            $("#FrmIdiomas").on('click', '.guardarIdioma', function (e) {
                e.preventDefault();
                if ($("#FrmIdiomas").valid()) {
                    var frmValues = $("#FrmIdiomas").serialize();
                    var idAlumno = $(this).attr("id-alumno");
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("SaveIdioma", "AlumnoView")',
                        cache: false,
                        data: frmValues + "&idAlumno=" + idAlumno,
                        success: function (result) {
                            if (result.success) {
                                $('#mensaje-error-model3').text("");
                                $('#modal4').modal('close');
                                ConfigModal($('#ModalAlert'), "", "Operación realizada con éxito", 1)//para crear la ventana flotante
                                $("#ModalAlert").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert").modal('open');
                                cargarReglasFormulario();
                                $('#tablaIdiomas').load('@Url.Action("_TablaIdiomas", "AlumnoView")', { idAlumno });

                            } else {
                                $('#mensaje-error-model3').text(result.mensajefound);
                            }
                        }

                    });
                }
            });

            // EDITAR IDIOMA
            $("#tablaIdiomas").off('click', '.editarIdioma');
            $("#tablaIdiomas").on('click', '.editarIdioma', function (e) {
                e.preventDefault();
                var idIdioma = $(this).attr("id-item");
                $('#AgregarIdioma').load('@Url.Action("_FormularioIdioma", "AlumnoView")', { idIdioma }, function (response, status, xhr) {
                    if (status == "success") {
                        cargarReglasFormulario();
                    }
                });
                $('#modal4').modal('open')
            });

            //ELIMINAR IDIOMA
            $("#tablaIdiomas").off('click', '.eliminarIdioma');
            $("#tablaIdiomas").on('click', '.eliminarIdioma', function (e) {
                e.preventDefault();
                ConfigModal($('#ModalAlert2'), "", "¿Desea eliminar el registro?", 4)//para crear la ventana flotante
                $("#ModalAlert2").modal({
                    dismissible: false,
                });
                $("#ModalAlert2").modal('open');
                var idIdioma = $(this).attr("id-item");
                var idAlumno = $(this).attr("id-Alumno");

                $("#ModalAlert2").off("click", ".md-accept");
                $("#ModalAlert2").on("click", ".md-accept", function () {

                    $.ajax({
                        url: '@Url.Action("DeleteIdioma", "AlumnoView")',
                        data: { idIdioma: idIdioma },
                        type: "POST",
                        success: function (result) {
                            if (result.success) {
                                $('#tablaIdiomas').load('@Url.Action("_TablaIdiomas", "AlumnoView")', { idAlumno });
                                $("#ModalAlert2").modal('close');
                                ConfigModal($('#ModalAlert'), "", "Operación realizada con éxito", 1)//para crear la ventana flotante
                                $("#ModalAlert").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert").modal('open');
                            } else {
                                ConfigModal($('#ModalAlert2'), "ALERTA", result.mensajefound, 3)
                                $("#ModalAlert2").modal('open');
                                $('#ModalAlert2').off("click", ".md-accept");
                                $('#ModalAlert2').on("click", ".md-accept", function () {
                                    $("#ModalAlert2").modal('close');
                                })
                            }
                        }
                    });
                })

            });


            //=================================== CONOCIMIENTOS INFORMATICOS ===================================

            //MODAL CONOCIMIENTOS INFORMATICOS
            $("#tablaConocimientos").off('click', '#agregarConocimiento');
            $("#tablaConocimientos").on('click', '#agregarConocimiento', function (e) {
                e.preventDefault();
                $('#AgregarConocimiento').load('@Url.Action("_FormularioConocimientoInformatico", "AlumnoView")', function (response, status, xhr) {
                    if (status == "success") {
                        cargarReglasFormulario();
                        $(".entero").mask('#00', { reverse: true });
                    }
                });
                $('#modal5').modal('open');

            })


            //GUARDAR CONOCIMIENTO
            $("#FrmConocimiento").off('click', '.guardarConocimiento');
            $("#FrmConocimiento").on('click', '.guardarConocimiento', function (e) {
                e.preventDefault();
                if ($("#FrmConocimiento").valid()) {
                    var frmValues = $("#FrmConocimiento").serialize();
                    var idAlumno = $(this).attr("id-alumno");
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("SaveConocimientoInformatico", "AlumnoView")',
                        cache: false,
                        data: frmValues + "&idAlumno=" + idAlumno,
                        success: function (result) {
                            if (result.success) {
                                $('#mensaje-error-model4').text("");
                                $('#modal5').modal('close');
                                ConfigModal($('#ModalAlert'), "", "Operación realizada con éxito", 1)//para crear la ventana flotante
                                $("#ModalAlert").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert").modal('open');
                                $('#tablaConocimientos').load('@Url.Action("_TablaConocimientosInformaticos", "AlumnoView")', { idAlumno });

                            } else {
                                $('#mensaje-error-model4').text(result.mensajefound);
                            }
                        }

                    });
                }
            });

            // EDITAR CONOCIMIENTO
            $("#tablaConocimientos").off('click', '.editarConocimiento');
            $("#tablaConocimientos").on('click', '.editarConocimiento', function (e) {
                e.preventDefault();
                var idConocimiento = $(this).attr("id-item");
                $('#AgregarConocimiento').load('@Url.Action("_FormularioConocimientoInformatico", "AlumnoView")', { idConocimiento }, function (response, status, xhr) {
                    if (status == "success") {
                        cargarReglasFormulario();
                        $(".entero").mask('#00', { reverse: true });
                    }
                });
                $('#modal5').modal('open');


            });

            //ELIMINAR CONOCIMIENTO
            $("#tablaConocimientos").off('click', '.eliminarConocimiento');
            $("#tablaConocimientos").on('click', '.eliminarConocimiento', function (e) {
                e.preventDefault();
                ConfigModal($('#ModalAlert4'), "", "¿Desea eliminar el registro?", 4)//para crear la ventana flotante
                $("#ModalAlert4").modal({
                    dismissible: false,
                });
                $("#ModalAlert4").modal('open');
                var idConocimiento = $(this).attr("id-item");
                var idAlumno = $(this).attr("id-Alumno");

                $("#ModalAlert4").off("click", ".md-accept");
                $("#ModalAlert4").on("click", ".md-accept", function () {

                    $.ajax({
                        url: '@Url.Action("DeleteConocimientoInformatico", "AlumnoView")',
                        data: { idConocimiento: idConocimiento },
                        type: "POST",
                        success: function (result) {
                            if (result.success) {
                                $('#tablaConocimientos').load('@Url.Action("_TablaConocimientosInformaticos", "AlumnoView")', { idAlumno });
                                $("#ModalAlert4").modal('close');
                                ConfigModal($('#ModalAlert'), "", "Operación realizada con éxito", 1)//para crear la ventana flotante
                                $("#ModalAlert").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert").modal('open');
                            } else {
                                ConfigModal($('#ModalAlert4'), "ALERTA", result.mensajefound, 3)
                                $("#ModalAlert4").modal('open');
                                $('#ModalAlert4').off("click", ".md-accept");
                                $('#ModalAlert4').on("click", ".md-accept", function () {
                                    $("#ModalAlert4").modal('close');
                                })
                            }
                        }
                    });
                })

            });



            //=================================== EXPERIENCIA PROFESIONAL ===================================
            //MODAL EXPERIENCIA PROFESIONAL
            $("#tablaExperienciaProf").off('click', '#agregarExp');
            $("#tablaExperienciaProf").on('click', '#agregarExp', function (e) {
                e.preventDefault();
                $('#AgregarExperienciaProf').load('@Url.Action("_FormularioExperienciaProfesional", "AlumnoView")', function (response, status, xhr) {
                    if (status == "success") {
                        cargarReglasFormulario();
                        CargarReglasGeneral();
                        $('.limpiar').val("");
                        //$(".entero").mask('#00', { reverse: true });
                        ConfiguracionFecha();
                        $("#decSalario").mask('#,##0.00', { reverse: true });

                    }
                });
                $("#modal3").modal({
                    dismissible: false,
                });
                $("#modal3").modal('open');
            });

            //GUARDAR EXPERIENCIA PROFESIONAL
            $("#FrmExperienciaProfesional").off('click', '.saveExperiencia');
            $("#FrmExperienciaProfesional").on('click', '.saveExperiencia', function (e) {
                e.preventDefault();
                if ($("#FrmExperienciaProfesional").valid()) {
                    EliminarComaMontosFormulario($("#FrmExperienciaProfesional"));
                    var frmValues = $("#FrmExperienciaProfesional").serialize();
                    var idAlumno = $(this).attr("id-alumno");
                    $.ajax({
                        type: "POST",
                        url: '@Url.Action("SaveExperienciaProfesional", "AlumnoView")',
                        cache: false,
                        data: frmValues + "&idAlumno=" + idAlumno,
                        success: function (result) {
                            if (result.success) {
                                $('#mensaje-error-model2').text("");
                                $('#modal3').modal('close');
                                ConfigModal($('#ModalAlert'), "", "Operación realizada con éxito", 1)//para crear la ventana flotante
                                $("#ModalAlert").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert").modal('open');
                                ConfiguracionFecha();
                                $('#tablaExperienciaProf').load('@Url.Action("_TablaExperienciasProfesionales", "AlumnoView")', { idAlumno });
                            } else {
                                $('#mensaje-error-model2').text(result.mensajefound);
                            }
                        }

                    });
                }


            });

            // EDITAR EXPERIENCIA PROFESIONAL
            $("#tablaExperienciaProf").off('click', '.editarExp');
            $("#tablaExperienciaProf").on('click', '.editarExp', function (e) {
                e.preventDefault();
                var idExperienciaProfesional = $(this).attr("id-item");
                $('#AgregarExperienciaProf').load('@Url.Action("_FormularioExperienciaProfesional", "AlumnoView")', { idExperienciaProfesional }, function (response, status, xhr) {
                    if (status == "success") {
                        cargarReglasFormulario();
                        CargarReglasGeneral();
                        ConfiguracionFecha();
                        $("#decSalario").mask('#,##0.00', { reverse: true });
                        //$(".entero").mask('#00', { reverse: true });
                    }
                });
                $('#modal3').modal('open');
            });

            //ELIMINAR EXPERIENCIA PROFESINAL
            $("#tablaExperienciaProf").off('click', '.eliminarExp');
            $("#tablaExperienciaProf").on('click', '.eliminarExp', function (e) {
                e.preventDefault();
                ConfigModal($('#ModalAlert3'), "", "¿Desea eliminar el registro?", 4)//para crear la ventana flotante
                $("#ModalAlert3").modal({
                    dismissible: false,
                });
                $("#ModalAlert3").modal('open');
                var idExperienciaProfesional = $(this).attr("id-item");
                var idAlumno = $(this).attr("id-Alumno");

                $("#ModalAlert3").off("click", ".md-accept");
                $("#ModalAlert3").on("click", ".md-accept", function () {

                    $.ajax({
                        url: '@Url.Action("DeleteExperienciaProfesional", "AlumnoView")',
                        data: { idExperienciaProfesional, idAlumno },
                        type: "POST",
                        success: function (result) {
                            if (result.success) {
                                ConfiguracionFecha();
                                $('#tablaExperienciaProf').load('@Url.Action("_TablaExperienciasProfesionales", "AlumnoView")', { idAlumno });
                                $("#ModalAlert3").modal('close');
                                ConfigModal($('#ModalAlert'), "", "Operación realizada con éxito", 1)//para crear la ventana flotante
                                $("#ModalAlert").modal({
                                    dismissible: false,
                                });
                                $("#ModalAlert").modal('open');
                            } else {
                                ConfigModal($('#ModalAlert3'), "ALERTA", result.mensajefound, 3)
                                $("#ModalAlert3").modal('open');
                                $('#ModalAlert3').off("click", ".md-accept");
                                $('#ModalAlert3').on("click", ".md-accept", function () {
                                    $("#ModalAlert3").modal('close');
                                })
                            }

                        }
                    });
                })

            });


            //=================================== ANEXOS ===================================
            //MODAL ANEXOS
            $("#tablaAnexos").off('click', '#agregarAnexo');
            $("#tablaAnexos").on('click', '#agregarAnexo', function (e) {
                e.preventDefault();
                $('#AgregarDocumento').load('@Url.Action("_FormularioAnexo", "AlumnoView")', function (response, status, xhr) {
                    if (status == "success") {
                        cargarReglasFormulario();
                        EventoValidarArchivoCrear();
                    }
                });
                $("#modal6").modal({
                    dismissible: false,
                });
                $("#modal6").modal('open');

            })

            //GUARDAR ANEXO
            $("#FrmDocumento").off('click', '.saveAnexo');
            $("#FrmDocumento").on('click', '.saveAnexo', function (e) {
                e.preventDefault();
                var formulario6 = $("#FrmDocumento").removeData("validator").removeData("unobtrusiveValidation");
                $.validator.unobtrusive.parse(formulario6);
                var band = $('#bandera').val();
                var FileSize = 0;
                var fileInput = document.getElementById('fileInput');
                for (i = 0; i < fileInput.files.length; i++) {
                    //frmValues.append(fileInput.files[i], fileInput.files[i].name);
                    FileSize += fileInput.files[i].size;
                }

                var frmValues = $("#FrmDocumento").serialize();
                var idAlumno = $(".saveAnexo").attr("id-alumno");
                var formdata = new FormData();

                if ($('#Anexos_idAnexo').val() == 0 || band == "") {

                    if ($("#FrmDocumento").valid() && $("#fileInput").val() != "") {
                        if (FileSize < 512000) {
                            $('#msjAlert').text('').removeClass("text-danger");
                            idAlumno = $(".saveAnexo").attr("id-alumno");
                            subirArchivo();
                        }
                        else {
                            $('#msjAlert').text('El archivo que intenta subir es mayor a 500 KB, inténtelo de nuevo con un archivo de menor tamaño').addClass("text-danger");
                            $('#msjAlert').fadeToggle("slow", "linear");
                            $('#msjAlert').delay(3000).hide(600);
                            $('#fileInput').val("");
                            $('.file-path').val("");
                            EventoValidarArchivoCrear();
                        }
                    }
                    else {
                        $('#msjAlert').text('El campo Documento es Requerido').addClass("text-danger");
                        $('#msjAlert').fadeToggle("slow", "linear");
                        $('#msjAlert').delay(3000).hide(600);
                        EventoValidarArchivoCrear();
                    }
                }
                else {
                    if (band == 1) {
                        idAlumno = $(".saveAnexo").attr("id-alumno");
                        if ($("#FrmDocumento").valid()) {
                            $.ajax({
                                type: "POST",
                                url: '@Url.Action("SaveAnexo", "AlumnoView")',
                                cache: false,
                                data: frmValues + "&idAlumno=" + idAlumno,
                                success: function (result) {
                                    if (result.success) {
                                        $('#modal6').modal('close');
                                        ConfigModal($('#ModalAlert5'), "", "Operación realizada con éxito", 1)//para crear la ventana flotante
                                        $("#ModalAlert5").modal({
                                            dismissible: false,
                                        });
                                        $("#ModalAlert5").modal('open');
                                        $('#tablaAnexos').load('@Url.Action("_TablaAnexos", "AlumnoView")', { idAlumno }, function () {
                                            cargarReglasFormulario();
                                        });
                                    }
                                }
                            });
                        }
                    }
                    else {
                        $('#msjAlert').text('El campo Documento es Requerido').addClass("text-danger");
                        $('#msjAlert').fadeToggle("slow", "linear");
                        $('#msjAlert').delay(3000).hide(600);
                        EventoValidarArchivoCrear();
                    }


                }
            });


            function EventoValidarArchivoCrear() {
                $('#fileInput').off("change");
                $('#fileInput').on("change", function () {
                    $('#bandera').val("");
                    $('#pathDocumento').val("");
                    if ($('#tpDocumento').val() == "" || $('#tpDocumento').val() == null) {
                        $('#msjAlert').text('Debes seleccionar un tipo de documento').addClass("text-danger");
                        $('#msjAlert').fadeToggle("slow", "linear");
                        $('#msjAlert').delay(3000).hide(600);
                        $('#fileInput').val("");
                    } else {
                        if ($('#fileInput').val() == "") {
                            $('#msjAlert').text('El campo Documento es Requerido').addClass("text-danger");
                            $('#msjAlert').fadeToggle("slow", "linear");
                            $('#msjAlert').delay(3000).hide(600);
                        } else {
                            var ext = $(this).val().split('.').pop().toLowerCase();
                            if ($('#tpDocumento').val() != ext) {
                                $('#msjAlert').text('El tipo de formato no coincide con el seleccionado').addClass("text-danger");
                                $('#msjAlert').fadeToggle("slow", "linear");
                                $('#msjAlert').delay(3000).hide(600);
                                $('#fileInput').val("");

                            }
                        }
                    }
                });

                $('#tpDocumento').off("change");
                $('#tpDocumento').on("change", function () {
                    $('#bandera').val("");
                    $('#pathDocumento').val("");
                    $('#fileInput').val("");
                    $('.file-path').val("");

                    //}
                });
            }

            function subirArchivo() {
                var frm = $("#FrmDocumento");
                var frmValues = $("#FrmDocumento").serialize();
                var idAlumno = $(".saveAnexo").attr("id-alumno");
                var formdata = new FormData();
                var fileInput = document.getElementById('fileInput');

                for (i = 0; i < fileInput.files.length; i++) {
                    formdata.append(fileInput.files[i].name, fileInput.files[i]);
                }
                $.ajax({
                    type: "POST",
                    url: '@Url.Action("subirArchivo", "AlumnoView")',
                    data: formdata,
                    processData: false,
                    contentType: false,
                    success: function (response) {
                        if (response.success) {
                            if (frm.valid() && $('#fileInput').val() != "") {
                                var idAlumno = $(".saveAnexo").attr("id-alumno");
                                $.ajax({
                                    type: "POST",
                                    url: '@Url.Action("SaveAnexo", "AlumnoView")',
                                    cache: false,
                                    data: frmValues + "&idAlumno=" + idAlumno,
                                    success: function (result) {
                                        if (result.success) {
                                            $('#mensaje-error-model5').text("");
                                            $('#modal6').modal('close');
                                            ConfigModal($('#ModalAlert5'), "", "Operación realizada con éxito", 1)//para crear la ventana flotante
                                            $("#ModalAlert5").modal({
                                                dismissible: false,
                                            });
                                            $("#ModalAlert5").modal('open');
                                            $('#tablaAnexos').load('@Url.Action("_TablaAnexos", "AlumnoView")', { idAlumno }, function () {

                                                cargarReglasFormulario();
                                            });
                                        } else {
                                            $('#mensaje-error-model5').text(result.mensajefound);
                                        }
                                    }
                                });
                            }
                        }
                    }
                });
            }




            // EDITAR ANEXO
            $("#tablaAnexos").off('click', '.editarAnexo');
            $("#tablaAnexos").on('click', '.editarAnexo', function (e) {
                e.preventDefault();
                var idAnexo = $(this).attr("id-item");
                $('#AgregarDocumento').load('@Url.Action("_FormularioAnexo", "AlumnoView")', { idAnexo }, function (response, status, xhr) {
                    if (status == "success") {
                        cargarReglasFormulario();
                        EventoValidarArchivoCrear();
                    }
                });
                $('#modal6').modal('open');


            });

            //ELIMINAR ANEXO
            $("#tablaAnexos").off('click', '.eliminarAnexo');
            $("#tablaAnexos").on('click', '.eliminarAnexo', function (e) {
                e.preventDefault();
                ConfigModal($('#ModalAlert5'), "", "¿Desea eliminar el registro?", 4)//para crear la ventana flotante
                $("#ModalAlert5").modal({
                    dismissible: false,
                });
                $("#ModalAlert5").modal('open');
                var idAnexo = $(this).attr("id-item");
                var idAlumno = $(this).attr("id-alumno");

                $("#ModalAlert5").off("click", ".md-accept");
                $("#ModalAlert5").on("click", ".md-accept", function () {

                    $.ajax({
                        url: '@Url.Action("DeleteAnexo", "AlumnoView")',
                        data: { idAnexo },
                                type: "POST",
                        success: function (result) {
                            ConfiguracionFecha();
                            $('#tablaAnexos').load('@Url.Action("_TablaAnexos", "AlumnoView")', { idAlumno });
                            $("#ModalAlert5").modal('close');
                        }
                    });
                })

            });





            ConfiguracionFecha();
            function ConfiguracionFecha() {

                //CONFIGURACION FECHA RESTRINCION DE EDAD
                var d = new Date();
                d.setFullYear(d.getFullYear() - 100);

                var a = new Date();
                a.setFullYear(a.getFullYear() - 18);
                $('.datepickerEdad').pickadate({

                    selectMonths: true,
                    selectYears: 100,
                    min: d,
                    max: a,
                    monthsFull: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                    monthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                    weekdaysFull: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                    weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mié', 'Juv', 'Vie', 'Sáb'],
                    weekdaysLetter: ['D', 'L', 'M', 'M', 'J', 'V', 'S'],
                    today: '',
                    clear: 'Limpiar',
                    close: 'Cerrar',
                    format: 'dd/mm/yyyy'
                });

                //CONFIGURACION RANGO DE FECHAS EXPERIENCIA PROFESIONAL

                var pickerFeFinal2 = $('#feFinalLaboral').pickadate({
                    selectMonths: true,
                    selectYears: 100,
                    max: new Date(),
                    monthsFull: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                    monthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                    weekdaysFull: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                    weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mié', 'Juv', 'Vie', 'Sáb'],
                    weekdaysLetter: ['D', 'L', 'M', 'M', 'J', 'V', 'S'],
                    today: '',
                    clear: 'Limpiar',
                    close: 'Cerrar',
                    format: 'dd/mm/yyyy',
                    onStart: function () {
                        this.set('min', $('#feInicioLaboral').val()); //Value por defecto al cargar el picker.
                    },
                    onSet: function (context) {
                        if (context.select) {
                            this.close();
                        }
                    }

                });

                $('#feInicioLaboral').pickadate({
                    selectMonths: true,
                    selectYears: 100,
                    max: new Date(),
                    monthsFull: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                    monthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                    weekdaysFull: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                    weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mié', 'Juv', 'Vie', 'Sáb'],
                    weekdaysLetter: ['D', 'L', 'M', 'M', 'J', 'V', 'S'],
                    today: '',
                    clear: 'Limpiar',
                    close: 'Cerrar',
                    format: 'dd/mm/yyyy',
                    onStart: function () {
                        //this.set('select', $('#Pp_FechaInicio').val()); //Value por defecto al cargar el picker.
                        $('#feInicioLaboral').val($('#feInicioLaboral').val());

                    },
                    onSet: function (context) {
                        if (context.select) {

                            this.close();
                            pickerFeFinal2.pickadate('picker').set("min", $('#feInicioLaboral').val());//Se cambia la fecha mínima con respecto a la fecha de inicio seleccionada
                            pickerFeFinal2.val("");
                            //pickerFeFinal2.val($('#FormacionesAcademicas_fechaInicio').val());

                        } else {

                        }
                    }
                });

                //CONFIGURACION RANGO DE FECHAS FORMACION ACADEMICA

                var pickerFeFinal3 = $('#feTerminacion').pickadate({
                    selectMonths: true,
                    selectYears: 100,
                    max: new Date(),
                    monthsFull: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                    monthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                    weekdaysFull: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                    weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mié', 'Juv', 'Vie', 'Sáb'],
                    weekdaysLetter: ['D', 'L', 'M', 'M', 'J', 'V', 'S'],
                    today: '',
                    clear: 'Limpiar',
                    close: 'Cerrar',
                    format: 'dd/mm/yyyy',
                    onStart: function () {
                        this.set('min', $('#feInicio').val()); //Value por defecto al cargar el picker.
                    },
                    onSet: function (context) {
                        if (context.select) {
                            this.close();
                        }
                    }

                });

                $('#feInicio').pickadate({
                    selectMonths: true,
                    selectYears: 100,
                    max: new Date(),
                    monthsFull: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                    monthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                    weekdaysFull: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                    weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mié', 'Juv', 'Vie', 'Sáb'],
                    weekdaysLetter: ['D', 'L', 'M', 'M', 'J', 'V', 'S'],
                    today: '',
                    clear: 'Limpiar',
                    close: 'Cerrar',
                    format: 'dd/mm/yyyy',
                    onStart: function () {
                        //this.set('select', $('#Pp_FechaInicio').val()); //Value por defecto al cargar el picker.
                        $('#feInicio').val($('#feInicio').val());

                    },
                    onSet: function (context) {
                        if (context.select) {

                            this.close();
                            pickerFeFinal3.pickadate('picker').set("min", $('#feInicio').val());//Se cambia la fecha mínima con respecto a la fecha de inicio seleccionada
                            pickerFeFinal3.val("");
                            //pickerFeFinal2.val($('#FormacionesAcademicas_fechaInicio').val());

                        } else {

                        }
                    }
                });

                //CONFIGURACION RANGO DE FECHAS FORMACION ACADEMICA

                var pickerFeFinal4 = $('.datepicker2FC').pickadate({
                    selectMonths: true,
                    selectYears: 100,
                    max: new Date(),
                    monthsFull: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                    monthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                    weekdaysFull: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                    weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mié', 'Juv', 'Vie', 'Sáb'],
                    weekdaysLetter: ['D', 'L', 'M', 'M', 'J', 'V', 'S'],
                    today: '',
                    clear: 'Limpiar',
                    close: 'Cerrar',
                    format: 'dd/mm/yyyy',
                    onStart: function () {
                        this.set('min', $('.datepicker1FC').val()); //Value por defecto al cargar el picker.
                    },
                    onSet: function (context) {
                        if (context.select) {
                            this.close();
                        }
                    }

                });

                $('.datepicker1FC').pickadate({
                    selectMonths: true,
                    selectYears: 100,
                    max: new Date(),
                    monthsFull: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                    monthsShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                    weekdaysFull: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                    weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mié', 'Juv', 'Vie', 'Sáb'],
                    weekdaysLetter: ['D', 'L', 'M', 'M', 'J', 'V', 'S'],
                    today: '',
                    clear: 'Limpiar',
                    close: 'Cerrar',
                    format: 'dd/mm/yyyy',
                    onStart: function () {
                        //this.set('select', $('#Pp_FechaInicio').val()); //Value por defecto al cargar el picker.
                        $('.datepicker1FC').val($('.datepicker1FC').val());

                    },
                    onSet: function (context) {
                        if (context.select) {

                            this.close();
                            pickerFeFinal4.pickadate('picker').set("min", $('.datepicker1FC').val());//Se cambia la fecha mínima con respecto a la fecha de inicio seleccionada
                            pickerFeFinal4.val("");
                            //pickerFeFinal2.val($('#FormacionesAcademicas_fechaInicio').val());

                        } else {

                        }
                    }
                });

            }
            ConfigPictures();
            function ConfigPictures() {
                ////PATH IMAGENES

                if ($("#Personas_pathFoto").val() == null || $("#Personas_pathFoto").val() == "") {
                    //$("#ModelosFotos_0__pathFoto").val("~/Upload/Articulos/default.png");
                    img1 = "~/Upload/Usuarios/default.png";
                    imagen1 = '@Url.Content("~")' + img1.replace('~/', '');
                } else {
                    img1 = $("#Personas_pathFoto").val();
                    imagen1 = '@Url.Content("~")' + img1.replace('~/', '');
                }


                $("#rutaPathImagen").fileinput({
                    maxImageWidth: 600,
                    maxImageHeight: 600,
                    language: "es",
                    uploadUrl: '@Url.Action("CargarLogo", "AlumnoView")', // server upload action
                    uploadAsync: true,
                    showCaption: false,
                    maxFileCount: 1,
                    maxFilesNum: 1,
                    validateInitialCount: true,
                    overwriteInitial: false,
                    autoReplace: true,
                    showPreview: true,
                    allowedFileExtensions: ["png", "jpg"],
                    initialPreview: [
                      '<img src="' + imagen1 + '" class="file-preview-image" alt="" title="">'
                    ],
                    dropZoneTitle: "Seleccione el archivo",
                    elErrorContainer: "#errorBlockResponsables",
                    browseClass: "btn btn1 btn-floating green padding-0",
                    browseLabel: '',
                    browseIcon: '<i class="mdi mdi-plus mdi-24px" > </i>',
                    removeClass: "btn btn1 btn-floating btn-danger red eliminarfoto",
                    removeLabel: "",
                    removeIcon: '<i class="mdi mdi-delete"></i>',
                    uploadClass: "btn btn1 btn-floating btn-success orange padding-0",
                    uploadLabel: "",
                    uploadIcon: '<i class="mdi mdi-cloud-upload"></i>',
                    msgFilesTooMany: 'Excede el límite máximo permitido</b>.',
                    fileActionSettings: {
                        indicatorSuccess: '<i class="mdi mdi-check-circle green-text  mdi-36px"></i>',
                        indicatorSuccessTitle: 'Subido',
                        indicatorError: '<i class="mdi mdi-alert-circle mdi-36px"></i>',
                        indicatorErrorTitle: 'Subir Error',
                        indicatorLoading: '<i class="mdi mdi-reload animated rotateIn  icon-3x"></i>',
                        indicatorLoadingTitle: 'Subiendo ...',
                        removeIcon: '<i class="mdi mdi-delete"></i>',
                        removeClass: 'btn btn-danger',
                        removeTitle: 'Quitar Archivo',
                    },
                    layoutTemplates: {
                        footer: '<div class="file-thumbnail-footer">\n' +
                        '    <div class="file-caption-name" style="width:{width}">{caption}</div>\n' +
                        '    {actions}\n' +
                        '</div>',
                        main2: '<div class="col s12 m12 l12">' +
                        '{preview}' +
                        '</div>' +
                        '<div class="col s4 m4 l4">' +
                        ' {browse} ' +
                        '</div>' +
                        '<div class="col s4 m4 l4 center">' +
                        ' {upload} ' +
                        '</div>' +
                        '<div class="col s4 m4 l4 right-align">' +
                        ' {remove} ' +
                        '</div>',
                        preview: '<div class="file-preview {class}">' +
                        '    <div class="{dropClass}">' +
                        '    <div class="file-preview-thumbnails">' +
                        '    </div>' +
                        '    <div class="clearfix"></div>' +
                        '    <div class="file-preview-status text-center text-success"></div>' +
                        '    <div class="kv-fileinput-error" style="cursor:pointer;"></div>' +
                        '    </div>' +
                        '</div>',
                        btnDefault: '<button type="{type}" tabindex="500" title="{title}" class="{css} tooltipped"{status} data-position="top" data-delay="50" data-tooltip="Eliminar Archivo" >{icon}{label}</button>',
                        btnLink: '<a href="{href}" tabindex="500" title="{title}" class="{css} tooltipped"{status} data-position="top" data-delay="50" data-tooltip="Cargar Archivo" >{icon}{label}</a>',
                        btnBrowse: '<div tabindex="500" class="{css} tooltipped"{status} data-position="top" data-delay="50" data-tooltip="Agregar Archivo"  >{icon}{label}</div>',
                        actions: '<div class="file-actions">\n' +
                        '    <div class="file-footer-buttons">\n' +
                        '    </div>\n' +
                        '    <div class="file-upload-indicator" tabindex="-1" title="{indicatorTitle}">{indicator}</div>\n' +
                        '    <div class="clearfix"></div>\n' +
                        '</div>',
                        actionDelete: '<button type="button" class="kv-file-remove {removeClass} "  title="{removeTitle}"{dataUrl}{dataKey}>{removeIcon}</button>\n',
                        actionUpload: '<button type="button" class="kv-file-upload {uploadClass}" title="{uploadTitle}">{uploadIcon}</button>\n'
                    }

                });


                $('#rutaPathImagen').on('fileuploaded', function (event, data, previewId, index) {
                    $("#Personas_pathFoto").val(JSON.stringify(data.response.savedFileName));
                    $(".valid-img").html("");
                });
                // $('#rutaPathImagen').on('filepreupload', function (event, data, previewId, index) {
                //$("#rutaPathImagen").value = "";
                // });

                $("#rutaPathImagen").on("change", function (e) {
                    e.preventDefault();
                    //$("#rutaPathImagen").value = "";
                    img1 = "";
                    imagen1 = ""
                    if ($("#Personas_pathFoto").val() == null || $("#Personas_pathFoto").val() == "") {
                        img1 = "~/Upload/Egresados/default.png";
                        imagen1 = '@Url.Content("~")' + img1.replace('~/', '');
                    } else {
                        img1 = $("#Personas_pathFoto").val();
                        imagen1 = '@Url.Content("~")' + img1.replace('~/', '');
                    }
                    $('#rutaPathImagen').fileinput('refresh', {
                        initialPreview: [
                          '<img src="' + imagen1 + '" class="file-preview-image" alt="" title="">'
                        ],
                        fileActionSettings: {
                            indicatorSuccess: '<i class="mdi mdi-check-circle green-text  mdi-36px"></i>',
                            indicatorSuccessTitle: 'Subido',
                            indicatorError: '<i class="mdi mdi-alert-circle mdi-36px"></i>',
                            indicatorErrorTitle: 'Subir Error',
                            indicatorLoading: '<i class="mdi mdi-reload animated rotateIn  icon-3x"></i>',
                            indicatorLoadingTitle: 'Subiendo ...',
                            removeIcon: '<i class="mdi mdi-delete"></i>',
                            removeClass: 'btn btn-danger',
                            removeTitle: 'Quitar Archivo',
                        }

                    });
                    $("#pathImagen").val("");
                });



            }


            function cargarReglasFormulario() {
                var formulario = $("#FrmFormacionAcademica").removeData("validator").removeData("unobtrusiveValidation");
                $.validator.unobtrusive.parse(formulario);

                var formulario1 = $("#frmFormacionC").removeData("validator").removeData("unobtrusiveValidation");
               $.validator.unobtrusive.parse(formulario1);

                var formulario2 = $("#FrmExperienciaProfesional").removeData("validator").removeData("unobtrusiveValidation");
                $.validator.unobtrusive.parse(formulario2);

                var formulario3 = $("#FrmIdiomas").removeData("validator").removeData("unobtrusiveValidation");
                $.validator.unobtrusive.parse(formulario3);

                var formulario4 = $("#FrmConocimiento").removeData("validator").removeData("unobtrusiveValidation");
                $.validator.unobtrusive.parse(formulario4);

                var formulario6 = $("#FrmDocumento").removeData("validator").removeData("unobtrusiveValidation");
                $.validator.unobtrusive.parse(formulario6);

                var formulario7 = $("#FrmDatosContacto").removeData("validator").removeData("unobtrusiveValidation");
                $.validator.unobtrusive.parse(formulario7);

            }

            function CargarReglasGeneral() {

                $('#feInicioLaboral').rules("remove");
                $('#feInicioLaboral').rules("add", {
                    required: true,
                    messages: {
                        required: "El campo fecha de inicio es requerido.",
                    }
                });

                $('#feFinalLaboral').rules("remove");
                $('#feFinalLaboral').rules("add", {
                    required: true,
                    messages: {
                        required: "El campo fecha de terminación es requerido.",
                    }
                });

                for (var i = 0; i <= contTel; i++) {
                    $('#MediosContactos_' + i + '__tpFormato').rules("remove");
                    $('#MediosContactos_' + i + '__tpFormato').rules("add", {
                        required: true,
                        messages: {
                            required: "El campo tipo es requerido.",
                        }
                    });

                    $('#MediosContactos_' + i + '__desMedioContacto').rules("remove");
                    $('#MediosContactos_' + i + '__desMedioContacto').rules("add", {
                        required: true,
                        maxlength: 10,
                        messages: {
                            required: "El campo número es obligatorio.",
                            maxlength: "Porfavor no ingrese más de 10 caracteres.",
                        }
                    });
                }





                validarA();
        function validarA(){
            $("#numAnioEgreso").on("change", function () {
                var anioE = parseInt($("#numAnioEgreso").val());
                var anioI = parseInt($("#numAnioIngreso").val());
                if (anioI > anioE)
                {
                    $("#mensaje-error-egre").text("El campo año de egreso debe ser mayor al año de ingreso");
                    $(".saveFormacionA").attr("disabled", true);
                    validarAi();
                }
                else
                {
                    $("#mensaje-error-egre").text("");
                    $(".saveFormacionA").attr("disabled", false);
                    validarAi();
                }
            });
        }
        validarAi();
        function validarAi() {
            $("#numAnioIngreso").on("change", function () {
                var anioE = parseInt($("#numAnioEgreso").val());
                var anioI = parseInt($("#numAnioIngreso").val());
                if (anioI > anioE) {
                    $("#mensaje-error-egre1").text("El campo año de ingreso debe ser menor al año de ingreso");
                    $(".saveFormacionA").attr("disabled", true);
                    validarA();
                }
                else {
                    $("#mensaje-error-egre1").text("");
                    $(".saveFormacionA").attr("disabled", false);
                    saveFormacionA
                    validarA();
                }
            });
        }


                $('#numAnioIngreso').rules("remove");
                $('#numAnioIngreso').rules("add", {
                    required: true,
                    messages: {
                        required: "El campo año de ingreso es requerido.",
                    }
                });

                $('#numAnioEgreso').rules("remove");
                $('#numAnioEgreso').rules("add", {
                    required: true,
                    messages: {
                        required: "El campo año de egreso es requerido.",
                    }
                });

                $('.datepicker1FC').rules("remove");
                $('.datepicker1FC').rules("add", {
                    required: true,
                    messages: {
                        required: "El campo fecha de inicio es requerido.",
                    }
                });

                $('.datepicker2FC').rules("remove");
                $('.datepicker2FC').rules("add", {
                    required: true,

                    messages: {
                        required: "El campo fecha de terminación es requerido.",
                    }
                });


                $('#Alumnos_Direcciones_numCodigoPostal').rules("remove");
                $('#Alumnos_Direcciones_numCodigoPostal').rules("add", {
                    required: true,
                    ///regex: "/[^0-9]/g",
                    messages: {
                        required: "El campo código postal es obligatorio..",
                    }
                });

                $('#Alumnos_Direcciones_desDireccion').rules("remove");
                $('#Alumnos_Direcciones_desDireccion').rules("add", {
                    required: true,
                    ///regex: "/[^0-9]/g",
                    messages: {
                        required: "El campo dirección es obligatorio..",
                    }
                });
                $('#Alumnos_Direcciones_nbPais').rules("remove");
                $('#Alumnos_Direcciones_nbPais').rules("add", {
                    required: true,
                    ///regex: "/[^0-9]/g",
                    messages: {
                        required: "El campo país es obligatorio..",
                    }
                });
                $('#Alumnos_Direcciones_nbEstado').rules("remove");
                $('#Alumnos_Direcciones_nbEstado').rules("add", {
                    required: true,
                    ///regex: "/[^0-9]/g",
                    messages: {
                        required: "El campo estado es obligatorio..",
                    }
                });

                $('#Alumnos_Direcciones_nbCiudad').rules("remove");
                $('#Alumnos_Direcciones_nbCiudad').rules("add", {
                    required: true,
                    ///regex: "/[^0-9]/g",
                    messages: {
                        required: "El campo ciudad es obligatorio..",
                    }
                });

                $('#Alumnos_Direcciones_nbColonia').rules("remove");
                $('#Alumnos_Direcciones_nbColonia').rules("add", {
                    required: true,
                    ///regex: "/[^0-9]/g",
                    messages: {
                        required: "El campo colonia es obligatorio.",
                    }
                });

                $('#tpEgresado').rules("remove");
                $('#tpEgresado').rules("add", {
                    required: true,
                    ///regex: "/[^0-9]/g",
                    messages: {
                        required: "El campo Tipo de egresado es obligatorio.",
                    }
                });

            }

            function DeshabilitarControlesInicio() {
                if ($("#Alumnos_Direcciones_nbPais").val() != 0) {
                    $('.codigopostal').prop("disabled", false);
                    if ($("#Alumnos_Direcciones_nbPais").val() != "México") {
                        $('.select-mex').css("display", "none");
                        $('.select-mex').prop("disabled", true);
                        $('.select-otro').css("display", "block");
                        $('.select-otro').prop("disabled", false);
                    } else {
                        $('.select-mex').css("display", "block");
                        $('.select-mex').prop("disabled", false);
                        $('.select-otro').css("display", "none");
                        $('.select-otro').prop("disabled", true);
                    }

                }
                else {
                    $('.codigopostal').prop("disabled", true);
                    $('.select-otro').prop("disabled", true);
                    $('.select-mex').prop("disabled", true);
                }
            }

            function LimpiarControles() {
                $('.codigopostal').val('');
                $("#Alumnos_Direcciones_nbCiudad").html("");
                $("#Alumnos_Direcciones_nbCiudad").append('<option value="">--CIUDAD--</option>');
                $("#Alumnos_Direcciones_nbEstado").html("");
                $("#Alumnos_Direcciones_nbEstado").append('<option value="">--ESTADO--</option>');
                $("#Alumnos_Direcciones_nbColonia").html("");
                $("#Alumnos_Direcciones_nbColonia").append('<option value="">--COLONIA--</option>');
                $('.select-otro').val('');
            }

            //TRAER CIUDAD Y ESTADO POR CODIGO POSTAL
            $("#Alumnos_Direcciones_nbPais").off('change')
            $("#Alumnos_Direcciones_nbPais").on('change', function (e) {
                e.preventDefault();

                if ($("#Alumnos_Direcciones_nbPais").val() != "México") {

                    if ($("#Alumnos_Direcciones_nbPais").val() == 0) {
                        $('.select-mex').css("display", "block");
                        $('.select-mex').prop("disabled", false);
                        $('.select-otro').css("display", "none");
                        $('.select-otro').prop("disabled", true);
                        $('.codigopostal').val('');
                        $('.codigopostal').prop("disabled", false);
                        DeshabilitarControlesInicio();
                        LimpiarControles();
                    }
                    else {
                        $('.select-otro').css("display", "block");
                        $('.select-otro').prop("disabled", false);
                        $('.select-mex').css("display", "none");
                        $('.select-mex').prop("disabled", true);
                        $('.codigopostal').val('');
                        $('.codigopostal').prop("disabled", false);
                        LimpiarControles();
                    }
                }
                else {

                    $('.select-mex').css("display", "block");
                    $('.select-mex').prop("disabled", false);
                    $('.select-otro').css("display", "none");
                    $('.select-otro').prop("disabled", true);
                    $('.codigopostal').val('')
                    $('.codigopostal').prop("disabled", false);
                    LimpiarControles();

                }

            });

            $("#Alumnos_Direcciones_numCodigoPostal").off("change")
            $("#Alumnos_Direcciones_numCodigoPostal").on("change", function (e1) {

                if ($("#Alumnos_Direcciones_nbPais").val() == "México") {

                    codigopostal = $("#Alumnos_Direcciones_numCodigoPostal").val();
                    pais = $("#Alumnos_Direcciones_nbPais").val();
                    e1.preventDefault();

                    $.ajax({
                        url: '@Url.Action("ValidarCodigoPostal", "GeneralView")',
                        data: { codigopostal: codigopostal, pais: pais },
                        type: "POST",
                        success: function (result) {

                            if (result.success) {//si es true el resultado

                                $('#mensaje-error-CodigoPostal').text("");

                                $.ajax({
                                    url: '@Url.Action("ObtenerCiudad", "GeneralView")',
                                    data: { codigopostal: codigopostal },
                                    type: "POST",
                                    success: function (result) {
                                        $("#Alumnos_Direcciones_nbCiudad").html("");
                                        $("#Alumnos_Direcciones_nbCiudad").append('<option value="">--CIUDAD--</option>');
                                        $.each(result, function (index, value) {
                                            $("#Alumnos_Direcciones_nbCiudad").append('<option value="' + value.Value + '">' + value.Text + '</option>');
                                        });
                                    }
                                });

                                $.ajax({
                                    url: '@Url.Action("ObtenerEstado", "GeneralView")',
                                    data: { codigopostal: codigopostal },
                                    type: "POST",
                                    success: function (result) {
                                        $("#Alumnos_Direcciones_nbEstado").html("");
                                        $.each(result, function (index, value) {
                                            $("#Alumnos_Direcciones_nbEstado").append('<option value="">--ESTADO--</option>');
                                            $("#Alumnos_Direcciones_nbEstado").append('<option value="' + value.Value + '">' + value.Text + '</option>');
                                        });
                                    }
                                });

                                $.ajax({
                                    url: '@Url.Action("ObtenerColonia", "GeneralView")',
                                    data: { codigopostal: codigopostal },
                                    type: "POST",
                                    success: function (result) {
                                        $("#Alumnos_Direcciones_nbColonia").html("");
                                        $("#Alumnos_Direcciones_nbColonia").append('<option value="">--COLONIA--</option>');
                                        $.each(result, function (index, value) {
                                            $("#Alumnos_Direcciones_nbColonia").append('<option value="' + value.Value + '">' + value.Text + '</option>');
                                        });
                                        $("#Alumnos_Direcciones_nbColonia").append('<option value="Otro">Otro</option>');
                                    }
                                });
                            }
                            else {
                                $('#mensaje-error-CodigoPostal').text(result.mensaje);
                                LimpiarControles();
                            }
                        }
                    });
                }

            });

        });

        $("#Alumnos_Direcciones_nbColonia").off("change")
        $("#Alumnos_Direcciones_nbColonia").on("change", function (e) {
            e.preventDefault();
            if ($("#Alumnos_Direcciones_nbColonia").val() == "Otro") {
                $('#colonia').css("display", "block");
                //$('#Colonia').prop("disabled", true);
            }
            else
            {
                $('#colonia').css("display", "none");
            }
        })

        //paginación tabla Formacion complementaria
        function FltOnBeginFA(obj) {
            $("#tablaFormacionA").addClass("loading-background");
            var $oncomplete = $('.loading-FA').addClass("loading-show").removeClass("loading");
        }

        function FltOnCompleteFA(obj) {
            $("#tablaFormacionA").removeClass("loading-background");
            var $oncomplete = $('.loading-FA').addClass("loading").removeClass("loading-show");
        }

        //paginación tabla Formacion complementaria
        function FltOnBeginFC(obj) {
            $("#tablaFormacionC").addClass("loading-background");
            var $oncomplete = $('.loading-FC').addClass("loading-show").removeClass("loading");
        }

        function FltOnCompleteFC(obj) {
            $("#tablaFormacionC").removeClass("loading-background");
            var $oncomplete = $('.loading-FC').addClass("loading").removeClass("loading-show");
        }

        //paginación tabla Idiomas
        function FltOnBeginI(obj) {
            $("#tablaIdiomas").addClass("loading-background");
            var $oncomplete = $('.loading-I').addClass("loading-show").removeClass("loading");
        }

        function FltOnCompleteI(obj) {
            $("#tablaIdiomas").removeClass("loading-background");
            var $oncomplete = $('.loading-I').addClass("loading").removeClass("loading-show");
        }

        //paginación tabla Conocimientos
        function FltOnBeginCi(obj) {
            $("#tablaConocimientos").addClass("loading-background");
            var $oncomplete = $('.loading-Ci').addClass("loading-show").removeClass("loading");
        }

        function FltOnCompleteCi(obj) {
            $("#tablaConocimientos").removeClass("loading-background");
            var $oncomplete = $('.loading-Ci').addClass("loading").removeClass("loading-show");
        }
        //paginación tabla Experiencia Profesional
        function FltOnBeginEp(obj) {
            $("#tablaExperienciaProf").addClass("loading-background");
            var $oncomplete = $('.loading-Ep').addClass("loading-show").removeClass("loading");
        }

        function FltOnCompleteEp(obj) {
            $("#tablaExperienciaProf").removeClass("loading-background");
            var $oncomplete = $('.loading-Ep').addClass("loading").removeClass("loading-show");
        }

        //paginación tabla Anexos
        function FltOnBeginAn(obj) {
            $("#tablaAnexos").addClass("loading-background");
            var $oncomplete = $('.loading-An').addClass("loading-show").removeClass("loading");
        }

        function FltOnCompleteAn(obj) {
            $("#tablaAnexos").removeClass("loading-background");
            var $oncomplete = $('.loading-An').addClass("loading").removeClass("loading-show");
        }

        function soloLetras(e) {
            key = e.keyCode || e.which;
            tecla = String.fromCharCode(key).toLowerCase();
            letras = " áéíóúabcdefghijklmnñopqrstuvwxyz";
            especiales = "8-37-39-46";

            tecla_especial = false
            for (var i in especiales) {
                if (key == especiales[i]) {
                    tecla_especial = true;
                    break;
                }
            }

            if (letras.indexOf(tecla) == -1 && !tecla_especial) {
                return false;
            }
        }

        function justNumbers(e) {
            var keynum = window.event ? window.event.keyCode : e.which;
            if ((keynum == 8) || (keynum == 46))
                return true;
            return /\d/.test(String.fromCharCode(keynum));
        }*@

    </script>
}
